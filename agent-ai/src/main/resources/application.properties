openai.key=${OPENAI_API_KEY:}
openai.org.id=${OPENAI_ORG_ID:}
quarkus.langchain4j.mcp.k8s-server.url=${MCP_SERVER:http://localhost:3000/mcp}
model.timeout=300s

quarkus.langchain4j.openai.api-key=${openai.key}
quarkus.langchain4j.google.gemini-model.api-key=${GOOGLE_API_KEY:}

# ============================================================================
# Redis Generic Configuration
# ============================================================================
quarkus.redis.devservices.enabled=true
quarkus.redis.devservices.image-name=redis/redis-stack-server:7.2.0-v19
%prod.quarkus.redis.hosts=${REDIS_URL:redis://localhost:6379}
quarkus.redis.timeout=10s

# ============================================================================
# Redis as Vector Store Configuration
# ============================================================================
quarkus.langchain4j.redis.index-name=openshift-docs
quarkus.langchain4j.redis.prefix=doc:
quarkus.langchain4j.redis.dimension=1536

# ============================================================================
# RAG Configuration
# ============================================================================
quarkus.langchain4j.openai.embedding-model.model-name=text-embedding-3-small
quarkus.langchain4j.easy-rag.path=src/main/resources/rag-documents
quarkus.langchain4j.easy-rag.path-type=filesystem
quarkus.langchain4j.easy-rag.recursive=true
quarkus.langchain4j.easy-rag.path-matcher=glob:**.{md,txt,pdf,html}
quarkus.langchain4j.easy-rag.max-segment-size=500
quarkus.langchain4j.easy-rag.max-overlap-size=50
quarkus.langchain4j.easy-rag.max-results=5
quarkus.langchain4j.easy-rag.min-score=0.7
quarkus.langchain4j.easy-rag.ingestion-strategy=manual
quarkus.langchain4j.embedding-model.provider=openai

# ===========================================================================
# Chat Memory Configuration
# ===========================================================================
quarkus.langchain4j.chat-memory.memory-window.max-messages=30

# ===========================================================================
# Default Chat Model Configuration
# ===========================================================================
quarkus.langchain4j.chat-model.provider=openai

# ===========================================================================
# Configurações Globais - OpenAI (aplicadas a todos os modelos)
# ===========================================================================
quarkus.langchain4j.openai.log-requests=false
quarkus.langchain4j.openai.log-responses=false
quarkus.langchain4j.openai.chat-model.temperature=1.0
quarkus.langchain4j.openai.chat-model.max-completion-tokens=2048
quarkus.langchain4j.openai.timeout=${model.timeout}

# ===========================================================================
# Configurações Globais - Google Gemini
# ===========================================================================
quarkus.langchain4j.google.log-requests=false
quarkus.langchain4j.google.log-responses=false
quarkus.langchain4j.google.chat-model.temperature=1.0
quarkus.langchain4j.google.timeout=${model.timeout}

# ===========================================================================
# Modelos Configurados (apenas provider e model-name necessários)
# ===========================================================================

# Agent My Model (gpt-4o-mini)
quarkus.langchain4j.my-model.chat-model.provider=openai
quarkus.langchain4j.openai.my-model.chat-model.model-name=gpt-4o-mini
quarkus.langchain4j.openai.my-model.api-key=${openai.key}
quarkus.langchain4j.openai.my-model.organization-id=${openai.org.id}
quarkus.langchain4j.openai.my-model.timeout=${model.timeout}

# Gemini 2.5 Flash
quarkus.langchain4j.gemini-model.chat-model.provider=ai-gemini
quarkus.langchain4j.google.gemini-model.chat-model.model-name=gemini-2.5-flash
quarkus.langchain4j.google.gemini-model.timeout=${model.timeout}

# GPT-3.5 Turbo
quarkus.langchain4j.gpt35-model.chat-model.provider=openai
quarkus.langchain4j.openai.gpt35-model.chat-model.model-name=gpt-3.5-turbo
quarkus.langchain4j.openai.gpt35-model.api-key=${openai.key}
quarkus.langchain4j.openai.gpt35-model.organization-id=${openai.org.id}
quarkus.langchain4j.openai.gpt35-model.timeout=${model.timeout}

# GPT-4o Nano
quarkus.langchain4j.gpt4o-nano-model.chat-model.provider=openai
quarkus.langchain4j.openai.gpt4o-nano-model.chat-model.model-name=gpt-4o-nano
quarkus.langchain4j.openai.gpt4o-nano-model.api-key=${openai.key}
quarkus.langchain4j.openai.gpt4o-nano-model.organization-id=${openai.org.id}
quarkus.langchain4j.openai.gpt4o-nano-model.timeout=${model.timeout}

# GPT-4o Mini
quarkus.langchain4j.gpt4o-mini-model.chat-model.provider=openai
quarkus.langchain4j.openai.gpt4o-mini-model.chat-model.model-name=gpt-4o-mini
quarkus.langchain4j.openai.gpt4o-mini-model.api-key=${openai.key}
quarkus.langchain4j.openai.gpt4o-mini-model.organization-id=${openai.org.id}
quarkus.langchain4j.openai.gpt4o-mini-model.timeout=${model.timeout}

# GPT-4.1 Nano
quarkus.langchain4j.gpt41-nano-model.chat-model.provider=openai
quarkus.langchain4j.openai.gpt41-nano-model.chat-model.model-name=gpt-4.1-nano
quarkus.langchain4j.openai.gpt41-nano-model.api-key=${openai.key}
quarkus.langchain4j.openai.gpt41-nano-model.organization-id=${openai.org.id}
quarkus.langchain4j.openai.gpt41-nano-model.timeout=${model.timeout}

# GPT-5
quarkus.langchain4j.gpt5-model.chat-model.provider=openai
quarkus.langchain4j.openai.gpt5-model.chat-model.model-name=gpt-5
quarkus.langchain4j.openai.gpt5-model.api-key=${openai.key}
quarkus.langchain4j.openai.gpt5-model.organization-id=${openai.org.id}
quarkus.langchain4j.openai.gpt5-model.timeout=300s

# Sentiment Analysis Agent (sobrescreve temperatura padrão)
quarkus.langchain4j.sentiment-model.chat-model.provider=openai
quarkus.langchain4j.openai.sentiment-model.chat-model.model-name=gpt-4o-mini
quarkus.langchain4j.openai.sentiment-model.chat-model.temperature=0.7
quarkus.langchain4j.openai.sentiment-model.api-key=${openai.key}
quarkus.langchain4j.openai.sentiment-model.organization-id=${openai.org.id}
quarkus.langchain4j.openai.sentiment-model.timeout=${model.timeout}

# ============================================================================
# MCP K8s Server Configuration
# ============================================================================
%prod.quarkus.langchain4j.mcp.k8s-server.url=${MCP_SERVER:http://localhost:3000/mcp}
quarkus.langchain4j.mcp.k8s-server.transport-type=streamable-http
quarkus.langchain4j.mcp.k8s-server.log-requests=true
quarkus.langchain4j.mcp.k8s-server.log-responses=true
quarkus.langchain4j.mcp.k8s-server.tool-execution-timeout=180s

# SSL Configuration - Aceitar certificados auto-assinados (apenas para desenvolvimento)
quarkus.tls.trust-all=true

# Reduzir timeouts do Vert.x já que usamos @RunOnVirtualThread para operações bloqueantes
quarkus.vertx.max-event-loop-execute-time=300s
quarkus.vertx.max-worker-execute-time=300s

# Habilitar o Scheduler do Quarkus
quarkus.scheduler.enabled=true

# ============================================================================
# Security Configuration - Basic Auth apenas para index.html
# ============================================================================
quarkus.security.users.embedded.enabled=true
quarkus.security.users.embedded.plain-text=true
quarkus.security.users.embedded.users.admin=admin
quarkus.security.users.embedded.roles.admin=user
quarkus.http.auth.basic=true
quarkus.http.auth.permission.public.paths=/*
quarkus.http.auth.permission.public.policy=permit
quarkus.http.auth.permission.authenticated.paths=/index.html,/chat/*
quarkus.http.auth.permission.authenticated.policy=authenticated